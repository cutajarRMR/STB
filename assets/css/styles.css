/* STB Electrical Services Styles */
:root {
  --color-bg: #f8f9fb; /* soft very light neutral */
  --color-surface: #ffffff; /* primary surface */
  --color-surface-alt: #f1f2f4; /* subtle alternate background panels */
  --color-accent: #ffe600; /* brand yellow */
  --color-accent-alt: #111111; /* strong black accent */
  --color-text: #1b1d21; /* primary text */
  --color-text-muted: #5a616b; /* muted text */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 20px;
  --max-width: 1200px;
  --transition: 0.25s ease;
  --font-stack: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: var(--font-stack);
  background: var(--color-bg);
  color: var(--color-text);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
}

img { max-width: 100%; display: block; }

h1, h2, h3 { font-weight: 600; line-height: 1.2; }

p { margin: 0 0 1rem; }

ul { list-style: none; margin: 0; padding: 0; }

.site-header {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  padding: 0.85rem 1.5rem;
  background: #111111;
  position: sticky;
  top: 0;
  z-index: 50;
  border-bottom: 4px solid var(--color-accent);
}
.branding { display:flex; align-items:center; gap:0.75rem; }
.branding .logo { height:54px; width:auto; object-fit:contain; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3)); }
.branding h1 { margin: 0; font-size: 1.55rem; color:#fff; }
.tagline { margin: 0; font-size: 0.85rem; color: #e9e9e9; letter-spacing:0.5px; }

.main-nav ul { display: flex; gap: 1rem; }
.main-nav a {
  color: #ffffff; /* improved contrast on dark header */
  text-decoration: none;
  padding: 0.5rem 0.75rem;
  border-radius: 4px;
  font-size: 0.95rem;
  position: relative;
  line-height: 1.2;
  font-weight: 500;
  transition: var(--transition);
}
.main-nav a:focus, .main-nav a:hover { background: rgba(255,255,255,0.12); }
.main-nav a:active { background: rgba(255,255,255,0.22); }
.main-nav a:focus-visible { outline: 2px solid var(--color-accent); outline-offset:2px; }

.nav-toggle { display: none; background: var(--color-accent); color: #111; border: none; padding: 0.55rem 0.85rem; border-radius: var(--radius-sm); font-weight:600; }

.hero {
  min-height: 56vh;
  display: grid;
  place-items: center;
  text-align: center;
  background: #111 url('../images/site_rock_up.png') center/cover no-repeat;
  padding: 4.75rem 1.5rem 3.4rem;
  position: relative;
  overflow:hidden;
}
.hero:before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(rgba(17,17,17,0.55), rgba(17,17,17,0.55));
  backdrop-filter: saturate(120%) contrast(105%);
}
.hero-content { position:relative; z-index:1; max-width: 900px; }
.hero h2 { font-size: clamp(2rem, 4.8vw, 3.2rem); margin-bottom: 0.9rem; color:#fff; text-shadow:0 3px 12px rgba(0,0,0,0.4); }
.hero p { font-size: clamp(1.05rem, 2.1vw, 1.32rem); max-width: 60ch; margin: 0 auto 1.5rem; color:#f1f1f1; text-shadow:0 2px 8px rgba(0,0,0,0.35); }

.cta-btn {
  background: var(--color-accent);
  color: #111;
  font-weight: 600;
  border: none;
  padding: 0.9rem 1.65rem;
  border-radius: var(--radius-md);
  cursor: pointer;
  font-size: 1rem;
  text-decoration: none;
  display: inline-block;
  box-shadow: var(--shadow-md);
  transition: var(--transition);
  position:relative;
}
.cta-btn:hover, .cta-btn:focus { background: #e5d300; box-shadow:0 6px 16px rgba(0,0,0,0.14); }
.cta-btn:active { transform: translateY(2px); }
.cta-btn:focus-visible { outline:2px solid #111; outline-offset:2px; }

main { max-width: var(--max-width); margin: 0 auto; padding: 0 1.5rem 4.5rem; }
.panel { padding: 3.2rem 0 2.4rem; border-bottom: 1px solid #e1e4e8; }
.panel:last-of-type { border-bottom: none; }
.panel h2 { margin-top: 0; margin-bottom: 1.15rem; position: relative; font-size:1.65rem; }
.panel h2:after { content: ''; position: absolute; left: 0; bottom: -8px; width: 72px; height: 4px; background: var(--color-accent); border-radius: 3px; }

.content-block { font-size: 1.02rem; max-width: 75ch; }
.services-list { display: grid; gap: 1.25rem; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }
.services-list li { background: var(--color-surface); padding: 1.1rem 1.1rem 1rem; border-radius: var(--radius-md); border: 1px solid #e5e7eb; position: relative; overflow: hidden; box-shadow: var(--shadow-sm); transition: var(--transition); }
.services-list li:before { content: '\26A1'; position: absolute; top: -6px; right: -6px; font-size: 2.6rem; color: rgba(255,230,0,0.25); transform: rotate(15deg); }
.services-list li:hover { box-shadow: var(--shadow-md); transform: translateY(-3px); }
.services-list h3 { margin: 0 0 0.45rem; font-size: 1.06rem; color: var(--color-accent-alt); }
.services-list p { margin: 0; font-size: 0.82rem; color: var(--color-text-muted); }

.gallery-filters { display: flex; gap: 0.55rem; flex-wrap: wrap; margin-bottom: 1.25rem; }
.gallery-filters button { background: var(--color-surface-alt); color: var(--color-text); border: 1px solid #d2d6da; padding: 0.45rem 0.95rem; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.75rem; font-weight:500; transition:var(--transition); }
.gallery-filters button:hover { background:#fff; }
.gallery-filters button.active { background: var(--color-accent); border-color: var(--color-accent); color:#111; }
.gallery-grid { display: grid; gap: 1.1rem; grid-template-columns: repeat(auto-fill, minmax(230px, 1fr)); }
.gallery-item { background: var(--color-surface); border: 1px solid #e4e7eb; border-radius: var(--radius-md); overflow: hidden; position: relative; display: flex; flex-direction: column; box-shadow: var(--shadow-sm); }
.gallery-item img { aspect-ratio: 4/3; object-fit: cover; }
.gallery-item .caption { padding: 0.6rem 0.8rem 0.85rem; font-size: 0.72rem; color: var(--color-text-muted); }

.contact-details { display: grid; gap: 0.85rem; font-size: 0.95rem; margin-bottom: 1.75rem; background: var(--color-surface); padding:1.25rem 1.25rem 1rem; border:1px solid #e2e5e9; border-radius: var(--radius-md); box-shadow: var(--shadow-sm); }
.contact-details a { color: var(--color-accent-alt); text-decoration: none; font-weight:600; }
.contact-details a:hover { text-decoration: underline; }

.contact-form { display: grid; gap: 1rem; max-width: 640px; background: var(--color-surface); padding:1.5rem 1.4rem 1.2rem; border:1px solid #e0e3e7; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
.form-group { display: flex; flex-direction: column; gap: 0.4rem; }
.form-group label { font-size:0.75rem; text-transform:uppercase; letter-spacing:0.5px; font-weight:600; color: var(--color-text-muted); }
.form-group input, .form-group textarea { background: #fff; color: var(--color-text); border: 1px solid #d2d7dd; padding: 0.75rem 0.85rem; border-radius: var(--radius-md); font-size: 0.95rem; transition: var(--transition); }
.form-group input:focus, .form-group textarea:focus { outline: 2px solid var(--color-accent); border-color:#111; }
.form-status { font-size: 0.85rem; min-height: 1em; font-weight:600; }

.site-footer { text-align: center; padding: 2.4rem 1.5rem 3.2rem; background: #111; font-size: 0.78rem; color: #d1d5db; }
.site-footer p { margin: 0.5rem 0; }
.site-footer a { color: var(--color-accent); text-decoration:none; }
.site-footer a:hover { text-decoration:underline; }
.license-note { font-style: italic; color:#b9bcc2; }

/* Social links */
.social-links { display:flex; justify-content:center; gap:0.75rem; margin-top:0.75rem; }
.social-link { display:inline-flex; align-items:center; justify-content:center; position:relative; }
.social-link .social-icon { border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.4); transition:transform var(--transition), box-shadow var(--transition); display:block; }
.social-link:hover .social-icon, .social-link:focus .social-icon { transform:translateY(-2px) scale(1.06); box-shadow:0 6px 14px rgba(0,0,0,0.45); }
.social-link:focus-visible { outline:2px solid var(--color-accent); outline-offset:4px; border-radius:8px; }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

/* Lightbox */
.lightbox { position:fixed; inset:0; background:rgba(0,0,0,0.75); display:flex; align-items:center; justify-content:center; padding:2rem 1.25rem; z-index:1000; }
.lightbox-body { max-width: min(90vw,1200px); max-height:80vh; display:flex; flex-direction:column; gap:0.75rem; align-items:center; }
.lightbox-body img { max-width:100%; max-height:70vh; border-radius:12px; box-shadow:0 8px 28px rgba(0,0,0,0.55); }
.lightbox-caption { font-size:0.85rem; color:#f1f1f1; text-align:center; max-width:70ch; }
.lightbox-close { position:absolute; top:1rem; right:1rem; background:var(--color-accent); color:#111; border:none; font-size:1.4rem; line-height:1; padding:0.4rem 0.9rem; border-radius:8px; cursor:pointer; box-shadow:0 4px 12px rgba(0,0,0,0.4); }
.lightbox-close:hover, .lightbox-close:focus { background:#e5d300; }
.lightbox.hidden { display:none !important; }

@media (max-width: 640px) {
  .lightbox-body img { max-height:55vh; }
}

/* Responsive Navigation */
@media (max-width: 780px) {
  .main-nav ul { display: none; flex-direction: column; background: #1b1d21; position: absolute; top: 100%; right: 1rem; padding: 0.75rem; border: 1px solid #2a2d31; border-radius: var(--radius-md); width: 210px; box-shadow: var(--shadow-md); }
  .main-nav ul.open { display: flex; }
  .nav-toggle { display: block; }
  .main-nav a { padding:0.55rem 0.75rem; }
}

@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* Utility */
.hidden { display: none !important; }

/* --- Visibility & Contrast Overrides (Appended) --- */
/* Ensure header stays above hero overlay and nav links have a clear accent indicator */
.site-header { z-index:1500; box-shadow: 0 0 0 1px rgba(255,255,255,0.04), 0 6px 14px -6px rgba(0,0,0,0.55); }
.hero:before { z-index:0; }
.main-nav a { color:#fff; font-weight:600; }
.main-nav a:after {
  content:''; position:absolute; left:0.55rem; right:0.55rem; bottom:4px; height:2px;
  background: var(--color-accent); border-radius:2px; transform:scaleX(0); transform-origin:left;
  transition:transform 0.35s ease; opacity:0.9;
}
.main-nav a:hover:after, .main-nav a:focus:after, .main-nav a:active:after { transform:scaleX(1); }

/* Improve mobile dropdown contrast */
@media (max-width:780px){
  .main-nav ul { background:#111; }
  .main-nav a { padding:0.65rem 0.75rem; }
}

/* --- Forced Nav Visibility (temporary diagnostic) --- */
/* This block ensures the nav menu is always visible even on small screens and adds a bright outline so you can confirm it's rendering. Remove after confirmation. */
.main-nav ul { display:flex !important; position:static !important; background:transparent !important; width:auto !important; padding:0 !important; border:none !important; }
.nav-toggle { display:none !important; }
.main-nav a { text-shadow:0 0 6px rgba(0,0,0,0.6); }
.main-nav a.nav-debug { background:#ffe600 !important; color:#111 !important; }

/* Optional: add debug class automatically via JS later if needed */
